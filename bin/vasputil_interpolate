#!/usr/bin/python

import os, sys

if (len(sys.argv) != 4):
    print "Usage: interpolate POSCAR.start POSCAR.end N"
    print "Result: you get N files called POSCAR.{1-N} which are linearly"
    print "interpolated between POSCAR.start and POSCAR.end"
    sys.exit(1)

ps = sys.argv[1]
pe = sys.argv[2]
ni = int(sys.argv[3]) + 1

for i in range(1, ni):
    s = "vasputil interpolate " + ps + " " + pe + " " + str(float(i)/ni) + \
            " POSCAR." + str(i)
    os.system(s)
